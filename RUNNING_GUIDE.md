# 🎯 运行流程图

## 完整运行流程

```
┌─────────────────────────────────────────────────────────────────┐
│                     开始运行微信小程序                              │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│  第一步：准备环境                                                   │
├─────────────────────────────────────────────────────────────────┤
│  □ 安装 Node.js (https://nodejs.org/)                           │
│  □ 安装微信开发者工具                                              │
│    (https://developers.weixin.qq.com/miniprogram/dev/devtools/) │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│  环境检查（可选）                                                   │
├─────────────────────────────────────────────────────────────────┤
│  运行：bash check-env.sh  (Linux/Mac)                            │
│       check-env.bat      (Windows)                              │
│                                                                 │
│  如果检查失败，按提示修复问题                                        │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│  第二步：安装依赖                                                   │
├─────────────────────────────────────────────────────────────────┤
│  在项目根目录运行：                                                 │
│                                                                 │
│  $ npm install                                                  │
│                                                                 │
│  ⏱️ 预计耗时：30秒 - 1分钟                                          │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│  第三步：导入项目到微信开发者工具                                     │
├─────────────────────────────────────────────────────────────────┤
│  1. 打开微信开发者工具                                              │
│  2. 点击"导入项目"或"+"按钮                                         │
│  3. 填写信息：                                                     │
│     - 项目目录：选择本项目根目录                                     │
│     - AppID：选择"测试号"                                          │
│     - 项目名称：zze 社区信息板                                      │
│  4. 点击"导入"                                                     │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│  第四步：构建 npm（重要！）                                          │
├─────────────────────────────────────────────────────────────────┤
│  在微信开发者工具中：                                               │
│                                                                 │
│  工具 → 构建 npm                                                 │
│                                                                 │
│  等待提示："✅ 构建 npm 成功"                                       │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│  第五步：编译运行                                                   │
├─────────────────────────────────────────────────────────────────┤
│  点击工具栏的"编译"按钮                                             │
│                                                                 │
│  🎉 成功！在模拟器中查看小程序                                       │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│                       运行成功！                                   │
└─────────────────────────────────────────────────────────────────┘
```

## 常见错误处理流程

```
运行遇到问题？
     │
     ├─→ TDesign 组件不显示
     │        │
     │        └─→ 检查是否执行了"构建 npm"
     │                  │
     │                  └─→ 工具 → 构建 npm
     │
     ├─→ 页面显示空白
     │        │
     │        ├─→ 检查控制台错误信息
     │        ├─→ 确认执行了 npm install
     │        └─→ 确认执行了"构建 npm"
     │
     ├─→ 构建 npm 失败
     │        │
     │        ├─→ 删除 node_modules
     │        ├─→ 重新 npm install
     │        └─→ 再次构建 npm
     │
     └─→ 找不到模块错误
              │
              ├─→ 检查 miniprogram_npm 目录是否存在
              ├─→ 重新构建 npm
              └─→ 重新编译项目
```

## 项目设置（推荐）

在微信开发者工具中配置以下设置：

```
点击右上角"详情" → "本地设置"
     │
     ├─→ ✅ 不校验合法域名、web-view...
     ├─→ ✅ 启用 ES6 转 ES5
     ├─→ ✅ 启用增强编译
     └─→ ✅ 不校验请求域名
```

## 功能验证流程

```
运行成功后测试功能
     │
     ├─→ 测试 TabBar 导航
     │        └─→ 点击 5 个 Tab（社区/发现/发布/消息/我的）
     │
     ├─→ 测试社区切换
     │        └─→ 社区页 → 点击社区名 → 选择其他社区
     │
     ├─→ 测试发布功能
     │        ├─→ 发布页 → 选择类型
     │        ├─→ 填写表单 → 提交
     │        ├─→ 查看"我的发布"（审核中）
     │        └─→ 5秒后查看审核结果
     │
     ├─→ 测试私信功能
     │        ├─→ 点击帖子 → 详情页
     │        ├─→ 点击"私信TA"
     │        └─→ 发送消息
     │
     └─→ 测试收藏功能
              ├─→ 详情页 → 点击收藏
              └─→ 我的页 → 我的收藏
```

## 目录结构检查

确保您的项目包含以下关键文件和目录：

```
zze/
├── ✅ package.json           (依赖配置)
├── ✅ app.json               (小程序配置)
├── ✅ app.js                 (小程序入口)
├── ✅ pages/                 (页面目录)
│   ├── community/
│   ├── discovery/
│   ├── publish/
│   ├── messages/
│   └── me/
├── ✅ components/            (组件目录)
├── ✅ utils/                 (工具目录)
├── ✅ data/                  (数据目录)
└── ⚠️  node_modules/         (安装后生成)
    └── tdesign-miniprogram/
```

## 帮助资源

- 📖 [QUICKSTART.md](./QUICKSTART.md) - 快速启动指南
- 📖 [SETUP_GUIDE.md](./SETUP_GUIDE.md) - 详细设置说明
- 📖 [TESTING_CHECKLIST.md](./TESTING_CHECKLIST.md) - 功能测试清单
- 📖 [README.md](./README.md) - 项目说明

---

**祝您使用愉快！** 🎉
