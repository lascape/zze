<view class="discovery-page">
  <!-- 搜索框 -->
  <view class="search-section">
    <t-search 
      value="{{searchValue}}" 
      placeholder="搜索信息"
      bind:change="onSearchInput"
      bind:submit="onSearch"
    />
  </view>

  <!-- 范围切换 -->
  <view class="range-selector">
    <view 
      class="range-item {{range === 'community' ? 'active' : ''}}"
      data-range="community"
      bindtap="onRangeChange"
    >
      <text>本社区</text>
    </view>
    <view 
      class="range-item {{range === 'nearby' ? 'active' : ''}}"
      data-range="nearby"
      bindtap="onRangeChange"
    >
      <text>附近30km</text>
    </view>
  </view>

  <!-- 分类标签 -->
  <view class="tabs-section">
    <t-tabs 
      value="{{activeCategory}}" 
      bind:change="onCategoryChange"
      space-evenly="{{false}}"
    >
      <t-tab-panel 
        wx:for="{{categories}}" 
        wx:key="id"
        label="{{item.name}}" 
        value="{{item.id}}"
      />
    </t-tabs>
  </view>

  <!-- 列表 -->
  <view class="posts-section">
    <t-loading wx:if="{{loading}}" theme="circular" size="40rpx" />
    
    <view wx:elif="{{posts.length > 0}}" class="posts-list">
      <info-card 
        wx:for="{{posts}}" 
        wx:key="id"
        post="{{item}}"
      />
    </view>
    
    <t-empty wx:else description="暂无信息" />
  </view>
</view>
