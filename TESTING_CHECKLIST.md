# 功能测试清单

## 测试环境准备

- [ ] 已安装微信开发者工具
- [ ] 已运行 `npm install`
- [ ] 已在微信开发者工具中构建 npm
- [ ] 项目可以正常编译运行

## 基础功能测试

### 1. TabBar 导航
- [ ] 可以切换到"社区"页
- [ ] 可以切换到"发现"页
- [ ] 可以切换到"发布"页
- [ ] 可以切换到"消息"页
- [ ] 可以切换到"我的"页
- [ ] TabBar 文字颜色在选中/未选中时有区别

### 2. 社区页测试
- [ ] 页面正常加载，显示当前社区名称
- [ ] 显示分类宫格（租房/美食/二手/服务）
- [ ] 显示信息流列表
- [ ] 点击社区名称可以进入社区选择页
- [ ] 点击分类可以进入发现页并带入分类
- [ ] 下拉刷新功能正常

### 3. 社区选择测试
- [ ] 显示所有可选社区列表
- [ ] 当前社区显示选中状态
- [ ] 点击社区可以切换
- [ ] 切换后显示 Toast 提示
- [ ] 返回社区页后列表更新

### 4. 发现页测试
- [ ] 显示搜索框（UI）
- [ ] 显示范围切换按钮
- [ ] 显示分类标签
- [ ] 默认范围为"附近30km"
- [ ] 从社区页进入时范围为"本社区"
- [ ] 切换范围后列表更新
- [ ] 切换分类后列表更新
- [ ] 下拉刷新功能正常

### 5. 发布页测试
- [ ] 显示发布类型选择
- [ ] 四种类型都可以点击
- [ ] 点击后进入对应的发布表单页

### 6. 发布表单测试（每种类型）

#### 租房
- [ ] 标题、片区、描述为必填项
- [ ] 可以选择片区
- [ ] 可以上传图片（最多3张）
- [ ] 可以填写租金、户型、面积、楼层
- [ ] 包含敏感词时提示并阻止提交
- [ ] 提交成功后显示 Toast
- [ ] 在"我的发布"中可以看到（审核中状态）

#### 美食
- [ ] 可以填写人均价格、菜系

#### 二手
- [ ] 可以填写价格、成色、品牌

#### 服务
- [ ] 可以填写服务类型、从业经验

### 7. 审核流程测试
- [ ] 发布后状态为"审核中"
- [ ] 5秒后状态自动更新
- [ ] 约80%概率通过
- [ ] 驳回时显示驳回原因
- [ ] 在"消息"页收到系统通知
- [ ] 通知显示审核结果

### 8. 我的发布测试
- [ ] 显示所有发布
- [ ] 可以按状态筛选（全部/审核中/已发布/被驳回）
- [ ] 显示发布时间
- [ ] 显示当前状态
- [ ] 被驳回的显示驳回原因
- [ ] 被驳回的可以重新提交
- [ ] 可以删除发布
- [ ] 点击已通过的可以查看详情

### 9. 详情页测试
- [ ] 显示作者信息（昵称、头像）
- [ ] 显示发布时间
- [ ] 显示分类标签
- [ ] 显示标题和描述
- [ ] 显示类型参数（租金、户型等）
- [ ] 显示位置（社区+片区）
- [ ] 显示图片（如有）
- [ ] 点击图片可以预览
- [ ] 底部显示收藏和私信按钮
- [ ] 收藏按钮可以切换状态
- [ ] 点击私信可以进入聊天页

### 10. 收藏功能测试
- [ ] 在详情页可以收藏
- [ ] 收藏后图标变化
- [ ] 在"我的"页显示收藏数量
- [ ] 在"我的收藏"页显示收藏列表
- [ ] 可以取消收藏

### 11. 私信功能测试
- [ ] 点击"私信TA"创建会话
- [ ] 进入聊天页显示会话信息
- [ ] 可以发送消息
- [ ] 包含敏感词时提示并阻止发送
- [ ] 消息显示在列表中
- [ ] 返回"消息"页可以看到会话
- [ ] 会话显示最后一条消息
- [ ] 会话显示时间

### 12. 消息页测试
- [ ] 显示两个标签（私信/通知）
- [ ] 私信列表显示所有会话
- [ ] 通知列表显示系统通知
- [ ] 未读消息有标记
- [ ] 点击会话进入聊天
- [ ] 点击通知标记为已读

### 13. 我的页测试
- [ ] 显示用户头像和昵称
- [ ] 显示发布数量
- [ ] 显示收藏数量
- [ ] 点击头像/昵称可以编辑资料
- [ ] 点击"我的发布"进入发布列表
- [ ] 点击"我的收藏"进入收藏列表

### 14. 编辑资料测试
- [ ] 显示当前头像和昵称
- [ ] 可以选择系统头像
- [ ] 头像选择器显示所有可选头像
- [ ] 可以修改昵称
- [ ] 昵称包含敏感词时提示
- [ ] 保存后返回"我的"页
- [ ] "我的"页显示更新后的信息

## 关键词过滤测试

### 发布内容
- [ ] 标题包含"微信"时被拦截
- [ ] 描述包含"vx"时被拦截
- [ ] 包含"电话"时被拦截
- [ ] 包含"http"时被拦截
- [ ] 包含"二维码"时被拦截
- [ ] 包含"中介"时被拦截

### 私信内容
- [ ] 消息包含敏感词时被拦截
- [ ] 显示敏感词提示

### 昵称
- [ ] 昵称包含敏感词时被拦截

## 数据持久化测试
- [ ] 切换社区后刷新页面，社区选择保持
- [ ] 发布后刷新页面，发布记录保持
- [ ] 收藏后刷新页面，收藏记录保持
- [ ] 修改昵称后刷新页面，昵称保持
- [ ] 私信会话刷新后保持

## 边界情况测试
- [ ] 无收藏时显示空状态
- [ ] 无发布时显示空状态
- [ ] 无消息时显示空状态
- [ ] 无通知时显示空状态
- [ ] 列表为空时显示空状态提示

## UI/UX 测试
- [ ] 所有页面布局正常
- [ ] 文字大小合适
- [ ] 颜色搭配协调
- [ ] 按钮点击有反馈
- [ ] 加载状态显示正常
- [ ] Toast 提示显示正常
- [ ] 表单输入体验良好
- [ ] 图片显示正常（如有）

## TDesign 组件测试
- [ ] t-tabs 切换正常
- [ ] t-search 显示正常
- [ ] t-input 输入正常
- [ ] t-textarea 输入正常
- [ ] t-button 点击正常
- [ ] t-tag 显示正常
- [ ] t-empty 显示正常
- [ ] t-loading 显示正常
- [ ] t-picker 选择正常
- [ ] t-popup 弹出正常
- [ ] t-cell 显示正常
- [ ] t-badge 显示正常
- [ ] t-icon 显示正常

## 性能测试
- [ ] 页面加载速度快
- [ ] 切换页面流畅
- [ ] 列表滚动流畅
- [ ] 无明显卡顿
- [ ] 内存占用正常

## 已知限制
- [ ] TabBar 暂无图标（使用纯文字）
- [ ] 系统头像暂无图片（使用占位符路径）
- [ ] 搜索功能暂未实现（仅UI）
- [ ] 图片上传仅选择本地（未上传服务器）
- [ ] 所有数据为本地存储（未对接后端）

## 备注
- 测试时请注意避免使用敏感词
- 部分功能为模拟实现（审核、私信等）
- 图片资源需要自行添加才能显示
